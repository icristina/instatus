@model Instatus.Core.IPaged

@using Instatus.Core.Extensions

@{
    var pageSize = Model.PageSize;
    var pageIndex = Model.PageIndex;
    var totalItemCount = Model.TotalItemCount;
    var totalPageCount = PaginationExtensions.TotalPageCount(Model);
    var actionName = ViewContext.RouteData.GetRequiredString("action");
    var controllerName = ViewContext.RouteData.GetRequiredString("controller");
    var index = 0;
}

<ul class="pagination">
    @if (totalPageCount > 1)
    {
        while (index < totalPageCount)
        {
            <li class="@(index == pageIndex ? "active" : null)">
                @Html.ActionLink((index + 1).ToString(), actionName, controllerName, new { pageSize = pageSize, pageIndex = index }, null) 
            </li>
            var nextIndex = PaginationExtensions.IncrementPager(index, pageIndex, totalPageCount, 10);
            if ((nextIndex - index) > 1)
            {
                <li class="disabled"><a>&hellip;</a></li>
            }
            index = nextIndex;
        }
    }
</ul>