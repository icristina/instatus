@model WebPart

@if (Model is WebStream)
{
    var stream = (WebStream)Model;
    
    @Html.Action("Stream", stream.Query.ToRouteValueDictionary().AddRequestParams())
}
else if (Model is WebPartial)
{
    var webPartial = (WebPartial)Model;

    if (webPartial.ActionName.IsEmpty())
    {
        @Html.Partial(webPartial.ViewName)
    }
    else
    {
        var routeValues = new RouteValueDictionary() {
            { "viewName", webPartial.ViewName },
            { "controller", "home" },
            { "area", "" }    
        };
        
        foreach(var param in webPartial.Parameters) {
            routeValues.AddNonEmptyValue(param.Name, param.Content);
        }
        
        @Html.Action(webPartial.ActionName, routeValues)
    }
} 
else if (Model is WebSection)
{
    var webSection = (WebSection)Model;
    
    @Html.Partial(webSection.ViewName ?? "Section", webSection)
}