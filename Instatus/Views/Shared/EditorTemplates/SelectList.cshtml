@model SelectList

@{
    // remove name of select list property from end of prefix, to replace with column name
    ViewData.TemplateInfo.HtmlFieldPrefix = string.Join(".", ViewData.TemplateInfo.HtmlFieldPrefix.ToList('.').Pop());

    var htmlFieldName = ViewData.ModelMetadata.AdditionalValues.ContainsKey("ColumnName") ?
        ViewData.ModelMetadata.AdditionalValues["ColumnName"].ToString() : "Selected" + ViewData.ModelMetadata.PropertyName;

    var validationAttributes = Html.ValidationAttributes(htmlFieldName);
}

@if (ViewData.ModelMetadata.AdditionalValues.Value("Required").AsBoolean() == true)
{
    @Html.DropDownList(htmlFieldName, Model)
}
else
{
    @Html.DropDownList(htmlFieldName, Model, " ", null)
}